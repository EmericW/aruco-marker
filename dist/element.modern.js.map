{"version":3,"file":"element.modern.js","sources":["../src/element.ts","aruco-marker.modern.js"],"sourcesContent":["import { arucoToSVGString } from 'aruco-marker';\n\nclass ArucoMarkerElement extends HTMLElement {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tstatic get observedAttributes() {\n\t\treturn ['markerid', 'size'];\n\t}\n\n\tconnectedCallback() {\n\t\tif (!this.shadowRoot) {\n\t\t\tthis.attachShadow({ mode: 'open' });\n\t\t\tthis._upgradeProperty('markerId');\n\t\t\tthis._upgradeProperty('size');\n\t\t}\n\n\t\tconst svgContents = arucoToSVGString(this.markerId, this.size ?? undefined);\n\t\tthis.shadowRoot!.innerHTML = svgContents;\n\t}\n\n\t_upgradeProperty(prop: 'markerId' | 'size') {\n\t\tif (this.hasOwnProperty(prop)) {\n\t\t\tlet value = this[prop];\n\t\t\tdelete this[prop];\n\t\t\t// @ts-expect-error ts(2322)\n\t\t\tthis[prop] = value;\n\t\t}\n\t}\n\n\tattributeChangedCallback() {\n\t\tthis.connectedCallback();\n\t}\n\n\tpublic get markerId() {\n\t\tconst markerId = parseInt(this.getAttribute('markerid') ?? '', 10);\n\t\tif (Number.isNaN(markerId)) {\n\t\t\tthrow new Error('markerid attribute must be set');\n\t\t}\n\t\treturn markerId;\n\t}\n\n\tpublic set markerId(value: number) {\n\t\tthis.setAttribute('markerid', value.toString());\n\t}\n\n\tpublic get size() {\n\t\treturn this.getAttribute('size');\n\t}\n\n\tpublic set size(value: string | null) {\n\t\tif (!value) {\n\t\t\tthis.removeAttribute('size');\n\t\t} else {\n\t\t\tthis.setAttribute('size', value);\n\t\t}\n\t}\n}\n\ncustomElements.define('aruco-marker', ArucoMarkerElement, {});\n","function t(t){if(t<0||t>1023)throw new RangeError(\"Marker ID must be in the range [0..1023]\");const e=[16,23,9,14];let r=0,n=0,i=0,o=0;const h=[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]];for(o=0;o<5;o++)for(r=t>>2*(4-o)&3,n=e[r],i=0;i<5;i++)h[i][o]=n>>4-i&1;return h}function e(e,r){let n=0,i=0;const o=t(e);let h=\"\";for(h=\"<svg \"+(r=r?'height=\"'+r+'\" width=\"'+r+'\"':\"\")+' viewBox=\"0 0 7 7\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <rect x=\"0\" y=\"0\" width=\"7\" height=\"7\" fill=\"black\"/>\\n',i=0;i<5;i++)for(n=0;n<5;n++)1===o[n][i]&&(h+='  <rect x=\"'+(n+1)+'\" y=\"'+(i+1)+'\" width=\"1\" height=\"1\" fill=\"white\" stroke=\"white\" stroke-width=\"0.01\" />\\n');return h+=\"</svg>\",h}export{t as arucoMarkerMatrix,e as arucoToSVGString};\n//# sourceMappingURL=aruco-marker.modern.js.map\n"],"names":["ArucoMarkerElement","HTMLElement","constructor","super","observedAttributes","connectedCallback","_this$size","this","shadowRoot","attachShadow","mode","_upgradeProperty","svgContents","e","r","n","i","o","t","RangeError","h","arucoToSVGString","markerId","size","undefined","innerHTML","prop","hasOwnProperty","value","attributeChangedCallback","_this$getAttribute","parseInt","getAttribute","Number","isNaN","Error","setAttribute","toString","removeAttribute","customElements","define"],"mappings":"AAEA,MAAMA,UAA2BC,YAChCC,WAAAA,GACCC,OACD,CAEA,6BAAWC,GACV,MAAO,CAAC,WAAY,OACrB,CAEAC,iBAAAA,GAAiB,IAAAC,EACXC,KAAKC,aACTD,KAAKE,aAAa,CAAEC,KAAM,SAC1BH,KAAKI,iBAAiB,YACtBJ,KAAKI,iBAAiB,SAGvB,MAAMC,ECkBQ,SAAiBC,EAAYC,GAC5C,IAAIC,EAAI,EACPC,EAAI,EACL,MAAMC,WApC2BC,GACjC,GAAIA,EAAK,GAAKA,EAAK,KAClB,UAAUC,WAAW,4CAGtB,MAAMN,EAAM,CAAC,GAAI,GAAI,EAAG,IACxB,IAAIC,EAAQ,EACXC,EAAM,EACNC,EAAI,EACJC,EAAI,EACL,MAAMG,EAAS,CACd,CAAC,EAAG,EAAG,EAAG,EAAG,GACb,CAAC,EAAG,EAAG,EAAG,EAAG,GACb,CAAC,EAAG,EAAG,EAAG,EAAG,GACb,CAAC,EAAG,EAAG,EAAG,EAAG,GACb,CAAC,EAAG,EAAG,EAAG,EAAG,IAGd,IAAKH,EAAI,EAAGA,EAAI,EAAGA,IAGlB,IAFAH,EAASI,GAAO,GAAK,EAAID,GAAO,EAChCF,EAAMF,EAAIC,GACLE,EAAI,EAAGA,EAAI,EAAGA,IAClBI,EAAOJ,GAAGC,GAAMF,GAAQ,EAAIC,EAAM,EAIpC,OAAOI,CACR,CASgBF,CAAkBL,GACjC,IAAIO,EAAQ,GAcZ,IANAA,EACC,SANAN,EADGA,EACI,WAAaA,EAAO,YAAcA,EAAO,IAEzC,IAIP,kIAKIE,EAAI,EAAGA,EAAI,EAAGA,IAClB,IAAKD,EAAI,EAAGA,EAAI,EAAGA,IACG,IAAjBE,EAAOF,GAAGC,KACbI,GACC,eACCL,EAAI,GACL,SACCC,EAAI,GAHL,+EAaJ,OAFAI,GAAS,SAEFA,CACR,CDtDsBC,CAAiBd,KAAKe,SAAmB,OAAXhB,EAAEC,KAAKgB,MAAIjB,OAAIkB,GACjEjB,KAAKC,WAAYiB,UAAYb,CAC9B,CAEAD,gBAAAA,CAAiBe,GAChB,GAAInB,KAAKoB,eAAeD,GAAO,CAC9B,IAAIE,EAAQrB,KAAKmB,UACVnB,KAAKmB,GAEZnB,KAAKmB,GAAQE,CACb,CACF,CAEAC,wBAAAA,GACCtB,KAAKF,mBACN,CAEA,YAAWiB,GAAQQ,IAAAA,EAClB,MAAMR,EAAWS,SAAsCD,OAA9BA,EAACvB,KAAKyB,aAAa,aAAWF,EAAI,GAAI,IAC/D,GAAIG,OAAOC,MAAMZ,GAChB,MAAM,IAAIa,MAAM,kCAEjB,OAAOb,CACR,CAEA,YAAWA,CAASM,GACnBrB,KAAK6B,aAAa,WAAYR,EAAMS,WACrC,CAEA,QAAWd,GACV,OAAWhB,KAACyB,aAAa,OAC1B,CAEA,QAAWT,CAAKK,GACVA,EAGJrB,KAAK6B,aAAa,OAAQR,GAF1BrB,KAAK+B,gBAAgB,OAIvB,EAGDC,eAAeC,OAAO,eAAgBxC,EAAoB"}